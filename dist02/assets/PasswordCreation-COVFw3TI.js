import{u as S,r as t,R as E,j as e}from"./index-sS5VVD-V.js";import{S as A}from"./SideDesign-C0rcKcSC.js";import{B as D}from"./Button-ClaYOkFx.js";import{M as R}from"./MultiStepHeader-BoXMd1Ze.js";import{l as g,A as w,a as y,b as I}from"./index-D7Iwki5U.js";import{L as q,y as o}from"./ReactToastify-BUnbJCrO.js";const F=()=>{const m=S(),u=t.useContext(E);if(!u)throw new Error("PasswordCreation must be used within RegistrationProvider");const{registrationData:a,setRegistrationData:j}=u,[l,p]=t.useState(a.password||""),[i,x]=t.useState(a.password||""),[n,v]=t.useState(!1),[c,N]=t.useState(!1),[f,C]=t.useState(!1),[d,r]=t.useState(!1),h=t.useRef(null);t.useEffect(()=>{p(a.password||""),x(a.password||"")},[a.password]),t.useEffect(()=>{if(d){const s=document.body.style.overflow;document.body.style.overflow="hidden";const b=P=>{P.key==="Escape"&&r(!1)};return window.addEventListener("keydown",b),setTimeout(()=>h.current?.focus(),0),()=>{window.removeEventListener("keydown",b),document.body.style.overflow=s}}},[d]);const k=()=>{if(!l.trim()||!i.trim()){o.error("Please fill out all fields.");return}if(l.length<8){o.error("Password must be at least 8 characters.");return}if(l!==i){o.error("Passwords do not match.");return}if(!f){o.error("Please accept the agreement to continue.");return}j(s=>({...s,password:l.trim()})),m("/SubscriptionPlan")};return e.jsxs("div",{className:"grid md:grid-cols-5 w-full min-h-screen",children:[e.jsx(A,{}),e.jsxs("div",{className:"md:col-span-3 flex flex-col bg-[#F4F2FA]",children:[e.jsx("div",{className:"sticky top-5 z-30 backdrop-blur w-full max-w-lg mx-auto",children:e.jsx("div",{className:"px-4",children:e.jsx(R,{title:"Create Password",current:4,total:6,onBack:()=>m(-1)})})}),e.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:e.jsxs("div",{className:"w-full max-w-lg",children:[e.jsx("div",{className:"flex flex-col items-center gap-2 mb-8",children:e.jsx("h1",{className:"text-primary-blue font-semibold text-3xl md:text-4xl text-center",children:"Create your password"})}),e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-primary-blue font-semibold mb-2",children:["Password ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-8 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx("img",{src:g,alt:"lock",className:"h-5 w-5"})}),e.jsx("button",{type:"button",tabIndex:-1,onClick:()=>v(s=>!s),className:"absolute right-4 top-1/2 -translate-y-1/2 text-primary-purple","aria-label":n?"Hide password":"Show password",children:n?e.jsx(w,{className:"h-5 w-5"}):e.jsx(y,{className:"h-5 w-5"})}),e.jsx("input",{type:n?"text":"password",placeholder:"Enter your password",value:l,onChange:s=>p(s.target.value),className:`w-full pl-16 pr-12 py-5 rounded-full bg-white border border-gray-200 text-xs\r
                               text-gray-800 placeholder-gray-400 outline-none focus:ring-2\r
                               focus:ring-primary-blue/20 focus:border-primary-blue/50`,autoComplete:"new-password"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs text-primary-blue font-semibold mb-2",children:["Confirm Password ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-8 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx("img",{src:g,alt:"lock",className:"h-5 w-5"})}),e.jsx("button",{type:"button",tabIndex:-1,onClick:()=>N(s=>!s),className:"absolute right-4 top-1/2 -translate-y-1/2 text-primary-purple","aria-label":c?"Hide confirm password":"Show confirm password",children:c?e.jsx(w,{className:"h-5 w-5"}):e.jsx(y,{className:"h-5 w-5"})}),e.jsx("input",{type:c?"text":"password",placeholder:"Enter Confirm Password",value:i,onChange:s=>x(s.target.value),className:`w-full pl-16 pr-12 py-5 rounded-full bg-white border border-gray-200 text-xs\r
                               text-gray-800 placeholder-gray-400 outline-none focus:ring-2\r
                               focus:ring-primary-blue/20 focus:border-primary-blue/50`,autoComplete:"new-password"})]})]}),e.jsxs("label",{className:"flex items-start gap-2 text-xs text-primary-blue",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:s=>C(s.target.checked),className:`mt-0.5 h-4 w-4 rounded border-gray-300 text-primary-purple\r
                             focus:ring-primary-purple checked:bg-primary-purple checked:border-primary-purple`}),e.jsxs("span",{className:"text-gray-600",children:["I agree to the"," ",e.jsx("button",{type:"button",onClick:()=>r(!0),className:"text-primary-purple underline underline-offset-2 hover:opacity-90",children:"Agreement"})," ","and to comply with all applicable laws and regulations on referral fees for legal services."]})]}),e.jsx(D,{text:"Next : Select Subscription",onClick:k})]})]})})]}),d&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",role:"dialog","aria-modal":"true","aria-labelledby":"agreement-title",onMouseDown:s=>{s.target===s.currentTarget&&r(!1)},children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-[1px]"}),e.jsx("div",{className:"relative z-10 mx-4 w-full max-w-lg sm:max-w-xl",children:e.jsxs("div",{className:"rounded-2xl bg-white shadow-xl border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-3 sm:py-4 border-b",children:[e.jsx("h2",{id:"agreement-title",className:"text-base sm:text-lg font-semibold text-primary-blue",children:"Agreement"}),e.jsx("button",{ref:h,type:"button",onClick:()=>r(!1),className:"p-2 rounded-full hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-primary-purple","aria-label":"Close agreement modal",children:e.jsx(I,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"px-4 sm:px-6 py-4 sm:py-5 max-h-[70vh] overflow-y-auto text-sm leading-6 text-gray-700",children:[e.jsx("p",{className:"mb-3",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed non risus. Suspendisse lectus tortor, dignissim sit amet, adipiscing nec, ultricies sed, dolor. Cras elementum ultrices diam. Maecenas ligula massa, varius a, semper congue, euismod non, mi."}),e.jsx("p",{className:"mb-3",children:"Proin porttitor, orci nec nonummy molestie, enim est eleifend mi, non fermentum diam nisl sit amet erat. Duis semper. Duis arcu massa, scelerisque vitae, consequat in, pretium a, enim. Pellentesque congue."}),e.jsx("p",{className:"mb-3",children:"Praesent id justo in neque elementum ultrices. Sed vel lectus. Donec odio tempus molestie, porttitor ut, iaculis quis, sem. Phasellus rhoncus. Aenean id metus id velit ullamcorper pulvinar."}),e.jsx("p",{children:"Etiam vel tortor sodales tellus ultricies commodo. Suspendisse potenti. Sed egestas, ante et vulputate volutpat, eros pede semper est, vitae luctus metus libero eu augue."})]}),e.jsxs("div",{className:"flex justify-end gap-2 px-4 sm:px-6 py-3 sm:py-4 border-t",children:[e.jsx("button",{type:"button",onClick:()=>r(!1),className:"rounded-full px-4 py-2 text-sm font-medium text-primary-blue hover:bg-gray-100",children:"Close"}),e.jsx("button",{type:"button",onClick:()=>r(!1),className:"rounded-full px-4 py-2 text-sm font-semibold text-white bg-primary-purple hover:opacity-90",children:"I Understand"})]})]})})]}),e.jsx(q,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})]})};export{F as default};
