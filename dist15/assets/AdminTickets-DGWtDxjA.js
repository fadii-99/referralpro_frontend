import{j as e,I as o,r as n,l as p,S as h}from"./index-0Q9RoQHO.js";import{P as u}from"./Pagination-Bx_AZDix.js";const g=({label:s,color:t})=>e.jsx("span",{className:`inline-flex items-center w-fit px-3 py-1 rounded-lg text-nowrap text-xs sm:text-sm font-medium capitalize ${t}`,children:s}),j=({ticket:s})=>{const t=s.status==="Open"?"text-rose-700 bg-rose-50":s.status==="Resolve"?"text-emerald-700 bg-emerald-50":"text-amber-700 bg-amber-50";return e.jsxs("div",{className:`grid grid-cols-[120px_200px_200px_150px_200px_150px_1fr] min-w-[1100px]\r
                 items-center bg-white rounded-2xl px-6 py-3 border border-black/5 \r
                 shadow-sm hover:shadow-md transition`,children:[e.jsx("div",{className:"font-medium text-gray-700 md:text-sm text-xs",children:s.id}),e.jsxs("div",{className:"flex items-center gap-3 font-medium text-gray-700 md:text-sm text-xs",children:[e.jsx("img",{src:`https://ui-avatars.com/api/?name=${encodeURIComponent(s.user)}&background=0b0d3b&color=fff`,alt:s.user,className:"w-8 h-8 rounded-full"}),e.jsx("span",{children:s.user})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:s.companyLogo,alt:s.company,className:"w-8 h-8 rounded-full"}),e.jsx("span",{className:"text-gray-700 font-medium md:text-sm text-xs",children:s.company})]}),e.jsx("div",{className:"text-gray-600 md:text-sm text-xs",children:s.date}),e.jsx("div",{className:"text-gray-700 md:text-sm text-xs",children:s.agent}),e.jsx(g,{label:s.status,color:t}),e.jsx("div",{className:"text-gray-600 md:text-sm text-xs",children:s.summary})]})},y=()=>{const{tickets:s,loading:t,loadTickets:d}=o(),[a,i]=n.useState(1);n.useEffect(()=>{d()},[d]);const x=7,r=Math.max(1,Math.ceil(s.length/x)),m=(a-1)*x,l=s.slice(m,m+x);return n.useEffect(()=>{a>r&&i(r)},[r,a]),e.jsxs("div",{className:"sm:p-6 p-4 flex flex-col min-h-screen",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4",children:[e.jsx("h2",{className:"md:text-2xl text-xl font-semibold text-primary-blue",children:"Tickets"}),e.jsx("div",{className:"flex flex-row items-center gap-3",children:e.jsx("button",{className:"h-10 w-10 rounded-xl bg-white border border-black/5 shadow-sm flex items-center justify-center",children:e.jsx(p,{className:"text-primary-purple text-lg"})})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:`grid grid-cols-[120px_200px_200px_150px_200px_150px_1fr] min-w-[1100px]\r
                     px-6 py-3 text-xs sm:text-sm font-semibold text-gray-600\r
                     bg-gray-50 rounded-xl`,children:[e.jsx("div",{children:"Ticket ID"}),e.jsx("div",{children:"User Name"}),e.jsx("div",{children:"Company"}),e.jsx("div",{children:"Date Created"}),e.jsx("div",{children:"Assigned Agent"}),e.jsx("div",{children:"Status"}),e.jsx("div",{children:"Summary"})]})}),e.jsx("div",{className:"overflow-x-auto space-y-2 mt-2",children:t?e.jsx("div",{className:"py-6 flex justify-center",children:e.jsx(h,{})}):l.length===0?e.jsx("div",{className:"text-sm p-8 text-center text-gray-500",children:"No tickets found."}):l.map(c=>e.jsx(j,{ticket:c},c.id))}),l.length>0&&!t&&e.jsx("div",{className:"mt-auto pt-6 flex justify-end",children:e.jsx(u,{current:a,totalPages:r,onChange:i})})]})};export{y as default};
