import{j as e,m as j,n as b,r as c,u as y,l as N,S as v}from"./index-0Q9RoQHO.js";import{P as w}from"./Pagination-Bx_AZDix.js";const p=["text-rose-700 bg-rose-50","text-blue-700 bg-blue-50","text-amber-700 bg-amber-50","text-emerald-700 bg-emerald-50","text-purple-700 bg-purple-50","text-gray-700 bg-gray-100"],f=t=>{let r=0;for(let s=0;s<t.length;s++)r=t.charCodeAt(s)+((r<<5)-r);return p[Math.abs(r)%p.length]},_=({status:t})=>{const s={pending:"text-amber-700 bg-amber-50",approved:"text-emerald-700 bg-emerald-50",closed:"text-rose-700 bg-rose-50"}[t.toLowerCase()]||f(t);return e.jsx("span",{className:`inline-flex items-center w-fit px-3 py-1 rounded-lg text-nowrap text-xs sm:text-sm font-medium capitalize ${s}`,children:t})},C=({urgency:t})=>{const s={urgent:"text-rose-700 bg-rose-50",normal:"text-blue-700 bg-blue-50",medium:"text-amber-700 bg-amber-50"}[t.toLowerCase()]||f(t);return e.jsx("span",{className:`inline-flex items-center w-fit px-3 py-1 rounded-lg text-nowrap text-xs sm:text-sm font-medium capitalize ${s}`,children:t})},R=({referral:t,onClick:r,onView:s})=>e.jsxs("div",{onClick:r,className:`grid grid-cols-[160px_200px_1fr_1fr_1fr_1fr_60px] min-w-[900px] \r
               items-center bg-white rounded-2xl px-6 py-3 border border-black/5 \r
               shadow-sm cursor-pointer hover:shadow-md transition`,children:[e.jsx("div",{className:"font-medium text-gray-700 md:text-sm text-xs text-left",children:t.reference_id}),e.jsx("div",{className:"font-medium text-gray-700 md:text-sm text-xs text-left",children:t.referred_to_name}),e.jsx("div",{className:"text-gray-600 md:text-sm text-xs text-left",children:t.industry}),e.jsx("div",{className:"md:text-sm text-xs text-left",children:t.assigned_to_name?e.jsx("span",{className:"text-gray-700",children:t.assigned_to_name}):e.jsx("span",{className:"inline-flex items-center w-fit px-3 py-1 rounded-lg md:text-sm text-xs font-medium text-red-600 bg-red-50",children:"none"})}),e.jsx(_,{status:t.status}),e.jsx(C,{urgency:t.urgency}),e.jsx("div",{className:"flex justify-end pr-2",onClick:l=>l.stopPropagation(),children:e.jsx("button",{type:"button","aria-label":"View",className:"text-primary-purple hover:opacity-80",onClick:s,children:e.jsx(j,{className:"text-lg"})})})]}),k=()=>{const{referrals:t,loading:r,loadReferrals:s}=b(),[l,o]=c.useState(1),g=y();c.useEffect(()=>{s()},[s]);const i=8,n=Math.max(1,Math.ceil(t.length/i)),d=(l-1)*i,x=t.slice(d,d+i);c.useEffect(()=>{l>n&&o(n)},[n,l]);const u=a=>a.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),m=a=>{localStorage.setItem("selectedReferralId",a.reference_id),localStorage.setItem("selectedId",a.id);const h=u(a.referred_to_name);g(`/Dashboard/Referral/${h}`)};return e.jsxs("div",{className:"sm:p-6 p-4 flex flex-col min-h-screen",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4",children:[e.jsx("h2",{className:"md:text-2xl text-xl font-semibold text-primary-blue",children:"Company Referrals List"}),e.jsx("div",{className:"flex flex-row items-center gap-3",children:e.jsx("button",{className:"h-10 w-10 rounded-xl bg-white border border-black/5 shadow-sm flex items-center justify-center",children:e.jsx(N,{className:"text-primary-purple text-lg"})})})]}),e.jsxs("div",{className:"flex-1 flex flex-col space-y-4",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:`grid grid-cols-[160px_200px_1fr_1fr_1fr_1fr_60px] min-w-[900px]\r
               px-6 py-3 text-xs sm:text-sm font-semibold text-gray-600 \r
               bg-gray-50 rounded-xl`,children:[e.jsx("div",{className:"text-left",children:"ID"}),e.jsx("div",{className:"text-left",children:"Customer Name"}),e.jsx("div",{className:"text-left",children:"Service Type"}),e.jsx("div",{className:"text-left",children:"Assigned Rep"}),e.jsx("div",{className:"text-left",children:"Status"}),e.jsx("div",{className:"text-left",children:"Priority"}),e.jsx("div",{className:"text-right pr-2",children:"Actions"})]})}),e.jsx("div",{className:"overflow-x-auto space-y-2",children:r?e.jsx("div",{className:"py-6 flex justify-center",children:e.jsx(v,{})}):x.length===0?e.jsx("div",{className:"text-sm p-8 text-center text-gray-500",children:"No referrals found."}):x.map(a=>e.jsx(R,{referral:a,onClick:()=>m(a),onView:()=>m(a)},a.id))})]}),x.length>0&&!r&&e.jsx("div",{className:"mt-auto pt-6 flex justify-end",children:e.jsx(w,{current:l,totalPages:n,onChange:a=>o(a)})})]})};export{k as default};
