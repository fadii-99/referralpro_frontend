import{u as A,r as a,R as B,j as e,H as E,b as z,c as M,d as W}from"./index-DTpFSV9c.js";import{S as I}from"./SideDesign-hA5tuLGE.js";import{B as F}from"./Button-P67AeVbE.js";import{M as U}from"./MultiStepHeader-C24n6ktv.js";import{L as q,y as n}from"./ReactToastify-Bxb90Md6.js";import{p as L,g as G,a as K,b as T,r as V}from"./metadata.max.json-CsV9usw-.js";const Y=V,x=G().map(l=>({code:l,dialCode:`+${K(l)}`,name:new Intl.DisplayNames(["en"],{type:"region"}).of(l)||l})).sort((l,i)=>l.name.localeCompare(i.name)),se=()=>{const l=A(),i=a.useContext(B);if(!i)throw new Error("CompanyInformation must be used within RegistrationProvider");const{registrationData:s,setRegistrationData:$}=i,[u,g]=a.useState(s.address1),[y,f]=a.useState(s.address2),[d,j]=a.useState(s.city),[c,w]=a.useState(s.postCode),[m,N]=a.useState(s.website),[o,v]=a.useState("US"),[h,C]=a.useState(""),[k,P]=a.useState(!1);a.useEffect(()=>{if(g(s.address1),f(s.address2),j(s.city),w(s.postCode),N(s.website),s.phone){const t=L(s.phone);t&&(v(t.country||"PK"),C(t.nationalNumber.toString()))}},[s]);const O=()=>{if(!u.trim()||!d.trim()||!c.trim()||!h.trim()){n.error("Please fill out all required fields.");return}if(!/^[0-9]+$/.test(c.trim())){n.error("Please enter a valid numeric postal code without spaces.");return}if(!/^[A-Za-z ]+$/.test(d.trim())){n.error("City name should only contain letters and spaces (no numbers or special characters).");return}if(m.trim()&&!/^www\.[^\s]+\.(com|org|net|edu|gov|mil|info|biz|xyz|online|io|ai|tech|app|dev)(\.[a-z]{2,3})?$/i.test(m.trim())){n.error("Please enter a valid website address (e.g., www.example.com or www.example.com.pk).");return}const D=`${x.find(r=>r.code===o)?.dialCode||""}${h}`,b=L(D);let p=null;try{const r=T(o,Y);r&&(p=r.nationalNumber.toString().length)}catch{p=null}if(!b||!b.isValid()){const r=x.find(H=>H.code===o);let R=`Phone number for ${r?.name||o} must be valid.`;p&&(R=`Phone number for ${r?.name||o} must be valid and contain ${p} digits.`),n.error(R);return}$(r=>({...r,address1:u.trim(),address2:y.trim(),city:d.trim(),postCode:c.trim(),phone:b.number,website:m.trim()})),l("/PasswordCreation")};return e.jsxs("div",{className:"grid md:grid-cols-5 w-full min-h-screen",children:[e.jsx(I,{}),e.jsxs("div",{className:"md:col-span-3 flex flex-col bg-[#F4F2FA]",children:[e.jsx("div",{className:"sticky top-5 z-30 backdrop-blur w-full max-w-lg mx-auto",children:e.jsx("div",{className:"px-4",children:e.jsx(U,{title:"Company Information",current:3,total:6,onBack:()=>l(-1)})})}),e.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:e.jsxs("div",{className:"w-full max-w-lg space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[11px] text-primary-blue font-semibold mb-1.5",children:["Address Line 1 ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-primary-purple",children:e.jsx(E,{className:"h-5 w-5"})}),e.jsx("input",{type:"text",placeholder:"Enter your address",value:u,onChange:t=>g(t.target.value),className:`w-full pl-12 pr-4 py-4 rounded-full bg-white border border-gray-200 \r
                              text-xs md:text-sm text-gray-800 placeholder-gray-400 outline-none`})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[11px] text-primary-blue font-semibold mb-1.5",children:"Address Line 2"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-primary-purple",children:e.jsx(E,{className:"h-5 w-5"})}),e.jsx("input",{type:"text",placeholder:"Enter your address",value:y,onChange:t=>f(t.target.value),className:`w-full pl-12 pr-4 py-4 rounded-full bg-white border border-gray-200 \r
                              text-xs md:text-sm text-gray-800 placeholder-gray-400 outline-none`})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[11px] text-primary-blue font-semibold mb-1.5",children:["City ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-primary-purple",children:e.jsx(z,{className:"h-5 w-5"})}),e.jsx("input",{type:"text",placeholder:"Enter City",value:d,onChange:t=>j(t.target.value),className:`w-full pl-12 pr-4 py-4 rounded-full bg-white border border-gray-200 \r
                                text-xs md:text-sm text-gray-800 placeholder-gray-400 outline-none`})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[11px] text-primary-blue font-semibold mb-1.5",children:["Post Code ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-primary-purple",children:e.jsx(M,{className:"h-5 w-5"})}),e.jsx("input",{type:"text",placeholder:"Enter Post Code",value:c,onChange:t=>w(t.target.value),className:`w-full pl-12 pr-4 py-4 rounded-full bg-white border border-gray-200 \r
                                text-xs md:text-sm text-gray-800 placeholder-gray-400 outline-none`})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[11px] text-primary-blue font-semibold mb-1.5",children:["Business Phone Number ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("div",{className:"relative flex",children:[e.jsxs("button",{type:"button",onClick:()=>P(t=>!t),className:"pl-3 pr-8 py-4 rounded-l-full bg-white border border-gray-200 text-left text-xs md:text-sm text-gray-800 flex items-center",style:{minWidth:"100px",height:"48px"},children:[x.find(t=>t.code===o)?.dialCode||"+--",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`ml-8 h-3 w-3 text-gray-500 transition-transform ${k?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),e.jsx("input",{type:"tel",placeholder:"Enter Phone",value:h,onChange:t=>{const S=t.target.value.replace(/\D/g,"");C(S)},className:"flex-1 pl-4 pr-4 py-4 rounded-r-full bg-white border border-gray-200 text-xs md:text-sm text-gray-800 placeholder-gray-400 outline-none",style:{height:"48px"}}),k&&e.jsx("ul",{className:"absolute top-full left-0 mt-1 w-72 bg-white border border-gray-200 rounded-2xl shadow-lg max-h-52 overflow-auto text-xs md:text-sm z-50",children:x.map(t=>e.jsx("li",{children:e.jsxs("button",{type:"button",onClick:()=>{v(t.code),P(!1)},className:"w-full flex justify-start gap-3 px-3 py-2 hover:bg-primary-purple/5",children:[e.jsx("span",{className:"font-semibold w-12",children:t.dialCode}),e.jsx("span",{children:t.name})]})},t.code))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[11px] text-primary-blue font-semibold mb-1.5",children:"Website"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-primary-purple",children:e.jsx(W,{className:"h-5 w-5"})}),e.jsx("input",{type:"url",placeholder:"Enter Website URL",value:m,onChange:t=>N(t.target.value),className:`w-full pl-12 pr-4 py-4 rounded-full bg-white border border-gray-200 \r
                            text-xs md:text-sm text-gray-800 placeholder-gray-400 outline-none`})]})]}),e.jsx(F,{text:"Next : Create Your Password",onClick:O})]})})]}),e.jsx(q,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0})]})};export{se as default};
